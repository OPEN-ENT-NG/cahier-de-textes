<div ng-if="homework.opened" class="padding-md">
    <!-- Deadline -->
    <div ng-if="homework.opened" class="float-left three vertical-align-top text-left">
        <div class="ten flex twelve-mobile">
            <label>
                <i18n>deadline</i18n>
                :
            </label>

            <div class="six flex margin-auto space-around margin-bottom-md">
                <label><!-- ng-if="sessionsToAttachTo && sessionsToAttachTo.length > 0"-->
                    <input type="radio"
                           ng-click="attachToSession()"
                           ng-checked="homework.attachedToSession"
                           value="true">
                    <span class="no-style ng-scope"><i18n>session</i18n></span>
                </label><br>
                <label>
                    <input type="radio"
                           ng-click="attachToDate()"
                           ng-checked="homework.attachedToDate"
                           value="false">
                    <span class="no-style ng-scope"><i18n>date</i18n></span>
                </label>
            </div>
        </div>
        <div class="row">
            <date-picker class="date-picker-sm" ng-if="homework.attachedToDate"
                         ng-model="homework.dueDate" ng-change="syncWorkloadWeek()"></date-picker>
            <select class="ten"
                    ng-if="!homework.attachedToDate"
                    ng-model="homework.session"
                    ng-change="syncWorkloadWeek()"
                    ng-options="session as (session.firstText || session.startDisplayDate + ' ' + session.startDisplayTime
                + '-' + session.endDisplayTime + ' - ' + session.subject.label ) for session in sessionsToAttachTo">
            </select>

            <!-- Type -->
            <select class="ten" ng-if="homework.opened"
                    required
                    ng-model="homework.type"
                    ng-options="homeworkType.label for homeworkType in homeworkTypes.all track by homeworkType.id">
            </select>
        </div>

        <div class="margin10v">
            <!-- Workload -->
            <span class="ten" ng-repeat="workload in homework.workloadWeek.all">
                     <label ng-if="workload.numDayString == (homework.dueDate | date:'dd')"
                            ng-class="workloadDay" tooltip="[[workload.description]]" ng-class="workload.color">
                            [[workload.description]]
                     </label>
            </span>
        </div>

        <!--Estimated Time-->
        <div>
        <span class="ten">
            <label>
                <i18n>homework.workload</i18n>
                :
                <input ng-model="homework.estimatedTime" min="0" type="number" class="two">
                    <i18n>minutes</i18n>
            </label>
        </span>
        </div>

        <!-- switch publish -->
        <div class="flex twelve-mobile">
            <label class="vertical-spacing margin-right-md">
                <i18n>utils.publish</i18n>
                :
            </label>

            <switch class="vertical-spacing" ng-change="homework.publishedChanged = !homework.publishedChanged" ng-model="homework.isPublished">
                <label class="switch"> </label>
            </switch>
        </div>
        <div ng-if="homework.publishDate && homework.isPublished" class="flex twelve-mobile">
            <label class="vertical-spacing margin-right-md">
                <i18n>homework.published.date.teacher</i18n>
                [[homework.publishDate]]
            </label>
        </div>
    </div>

    <!-- Description-->
    <div ng-if="homework.opened" class="nine float-none display-inline-block vertical-align-top text-left">
        <div class="twelve-mobile">
            <label>
                <i18n>utils.description</i18n>
                :
            </label>
        </div>

        <editor class="twelve" ng-model="homework.description"></editor>
    </div>
</div>