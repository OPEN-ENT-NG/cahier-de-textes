<div ng-controller="manageListController" class="row" workflow="diary.listView">
    <h1 ng-if="!isAChildOrAParent">
        <a href="#" ng-click="changeViewCalendar()">
        <i18n>diary.title</i18n>
        </a>
    </h1>
    <h1 ng-if="isAChildOrAParent">
        <i18n>diary.title</i18n>
    </h1>
    <div class="cell three twelve-mobile" static-include="/diary/public/template/main/sidebar.html"></div>

    <div class="cell nine twelve-mobile">
        <article class="twelve row " ng-if="display.listView">

            <i18n>period.from</i18n>
            <date-picker ng-model="filters.startDate" ng-change="syncPedagogicItems();"
                         class="no-margin date-picker-sm"></date-picker>
            <i18n>to</i18n>
            <date-picker ng-model="filters.endDate" ng-change="syncPedagogicItems();"
                         class="no-margin date-picker-sm"></date-picker>
        </article>

    <div class="list-view">
        <div class="timeline-story vertical-spacing row">
            <div ng-repeat="pedagogicDay in pedagogicDays | pedagogicDayFilter: display.sessionList:!display.sessionList"
                 class="twelve cell event-row">
                <div  ng-if="!containsOnlyCourses(pedagogicDay)" >
                    <i  ng-class="pedagogicDay.displayed ? 'up-open' : 'down-open'" class="left-magnet" ng-click="displayDay(pedagogicDay)"></i>
                    <div class="cell date-field text-right">
                <span class="label">
                    [[pedagogicDay.fullDayName]]
                </span>
                    </div>
                    <div class="event cell">
                        <div>
                        <span  ng-show="!display.sessionList" class="round "
                               ng-class="{'[[pedagogicDay.color]]': true}">
                            <span>
                                [[pedagogicDay.nbHomework]]
                            </span>
                        </span>
                            <span  ng-show="display.sessionList" class="round ">
                        </span>
                        </div>
                    </div>

                    <div  ng-show="pedagogicDay.displayed" class="cell ten eleven-mobile">
                    
                        <div
                                ng-repeat="pedagogicItem in pedagogicDay.pedagogicItems">
                            <div ng-if="displaySession(display.sessionList,pedagogicItem) && display.sessionList" static-include="/diary/public/template/list/list-pedagogic-item.html"/>
                            <div ng-if="displaySession(display.sessionList,pedagogicItem) && !display.sessionList" static-include="/diary/public/template/list/list-pedagogic-item-homeworkOnly.html"/>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</div>