{"version":3,"sources":["webpack:///webpack/bootstrap 7eb6cfc1493b4a558222?165e","webpack:///./ts/behaviours.ts","webpack:///external \"entcore\"?736d"],"names":[],"mappings":"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","file":"./behaviours.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 7eb6cfc1493b4a558222","import { Behaviours, model } from 'entcore';\r\n\r\n/**\r\n * Statement of rights to be used by the directive \"behavior\" or by \"workflow\" property to hide / display allowed behaviors like creating, updating, sharing, etc.\r\n * No use for share-panel Directive !\r\n *\r\n */\r\nvar diariesBehaviours = {\r\n\tresources: {\r\n\t\t//lessons\r\n\t\tshareSubmitLesson: {\r\n\t\t\tright: \"fr-openent-diary-controllers-LessonController|shareSubmit\"\r\n\t\t},\r\n\t\tgetLesson: {\r\n\t\t\tright: \"fr-openent-diary-controllers-LessonController|getLesson\"\r\n\t\t},\r\n\t\tpublishLesson: {\r\n\t\t\tright: \"fr-openent-diary-controllers-LessonController|publishLesson\"\r\n\t\t},\r\n\t\tmodifyLesson: {\r\n\t\t\tright: \"fr-openent-diary-controllers-LessonController|modifyLesson\"\r\n\t\t},\r\n\t\tdeleteLesson: {\r\n\t\t\tright: \"fr-openent-diary-controllers-LessonController|deleteLesson\"\r\n\t\t},\r\n\t\t// homeworks\r\n\t\tshareSubmitHomework: {\r\n\t\t\tright: \"fr-openent-diary-controllers-HomeworkController|shareSubmit\"\r\n\t\t},\r\n\t\tmodifyHomework: {\r\n\t\t\tright: \"fr-openent-diary-controllers-HomeworkController|modifyHomework\"\r\n\t\t},\r\n\t\tgetHomework: {\r\n\t\t\tright: \"fr-openent-diary-controllers-HomeworkController|getHomework\"\r\n\t\t},\r\n\t\tdeleteHomework: {\r\n\t\t\tright: \"fr-openent-diary-controllers-HomeworkController|deleteHomework\"\r\n\t\t}\r\n\t},\r\n\t//using by workflow property ($register.$workflow), ex on a button for creating lesson : workflow=\"diary.createLesson\"\r\n\tworkflow: {\r\n\t\tcreateLesson: \"fr.openent.diary.controllers.LessonController|createLesson\",\r\n\t\tcreateHomeworkForLesson: \"fr.openent.diary.controllers.HomeworkController|createHomeworkForLesson\",\r\n\t\tcreateFreeHomework: \"fr.openent.diary.controllers.HomeworkController|createFreeHomework\"\r\n\t}\r\n};\r\n\r\nBehaviours.register('diary', {\r\n\tbehaviours:  diariesBehaviours,\r\n\t/**\r\n\t * Allows to set rights for behaviours.\r\n\t */\r\n\tresource : function(resource) {\r\n\t\tvar rightsContainer = resource;\r\n\t\tif (!resource.myRights) {\r\n\t\t\tresource.myRights = {};\r\n\t\t}\r\n\r\n\t\tfor (var behaviour in diariesBehaviours.resources) {\r\n\t\t\tif (model.me.hasRight(rightsContainer, diariesBehaviours.resources[behaviour]) || model.me.userId === resource.owner.userId || model.me.userId === rightsContainer.owner.userId) {\r\n\t\t\t\tif (resource.myRights[behaviour] !== undefined) {\r\n\t\t\t\t\tresource.myRights[behaviour] = resource.myRights[behaviour] && diariesBehaviours.resources[behaviour];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresource.myRights[behaviour] = diariesBehaviours.resources[behaviour];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn resource;\r\n\t},\r\n\r\n\t/**\r\n\t * Allows to load workflow rights according to rights defined by the\r\n\t * administrator for the current user in the console.\r\n\t */\r\n\tworkflow : function() {\r\n\t\tvar workflow = {};\r\n\r\n\t\tvar diariesWorkflow = diariesBehaviours.workflow;\r\n\t\tfor (var prop in diariesWorkflow) {\r\n\t\t\tif (model.me.hasWorkflow(diariesWorkflow[prop])) {\r\n\t\t\t\tworkflow[prop] = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn workflow;\r\n\t},\r\n\r\n\t/**\r\n\t * Allows to define all rights to display in the share windows. Names are\r\n\t * defined in the server part with\r\n\t * <code>@SecuredAction(value = \"xxxx.read\", type = ActionType.RESOURCE)</code>\r\n\t * without the prefix <code>xxx</code>.\r\n\t */\r\n\tresourceRights : function() {\r\n\t\treturn [ 'read', 'publish', 'manager' ];\r\n\t},\r\n\r\n\t/**\r\n\t * Function required by the \"linker\" component to display the collaborative editor info\r\n\t */\r\n\tloadResources: function(callback){}\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./ts/behaviours.ts","module.exports = entcore;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"entcore\"\n// module id = 1\n// module chunks = 0 1"],"sourceRoot":""}